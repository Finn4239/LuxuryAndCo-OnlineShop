@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<ContentModels.Master>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@using Umbraco.Extensions

@{
    Layout = null;
    var siteSettings = Umbraco.Content("1116");
    var currentCulture = System.Threading.Thread.CurrentThread.CurrentUICulture.Name;
    
    //Button name where loaded from umbraco with current language
    var homeText = siteSettings.Value("homeText", culture: currentCulture);
    var watchesText = siteSettings.Value("watchesText", culture: currentCulture);
    var perfumesText = siteSettings.Value("perfumeText", culture: currentCulture);
    var spiritsText = siteSettings.Value("spiritsText", culture: currentCulture);
    var carsText = siteSettings.Value("carsText", culture: currentCulture);

    var aboutUsButtonText = siteSettings.Value("aboutUsButtonName", currentCulture);
    var contactButtonText = siteSettings.Value("contactButtonName", currentCulture);
    var jobsButtonText = siteSettings.Value("jobsButtonName", currentCulture);
    var supportButtonText = siteSettings.Value("supportButtonName", currentCulture);
    var faqButtonText = siteSettings.Value("faqButtonName", currentCulture);
    var newsletterButtonText = siteSettings.Value("newsletterButtonName", currentCulture);
    var privacyPolicyButtonText = siteSettings.Value("privacyPolicyButtonName", currentCulture);
    var termsOfServiceButtonText = siteSettings.Value("termsOfServiceButtonName", currentCulture);
    var imprintButtonText = siteSettings.Value("imprintButtonName", currentCulture);
    
    //Links where loaded from umbraco with current language
    var homeLink = siteSettings.Value<IPublishedContent>("homeLink")?.Url(currentCulture);
    var watchesLink = siteSettings.Value<IPublishedContent>("watchesLink")?.Url(currentCulture);
    var perfumesLink = siteSettings.Value<IPublishedContent>("perfumesLink")?.Url(currentCulture);
    var spiritsLink = siteSettings.Value<IPublishedContent>("spiritsLink")?.Url(currentCulture);
    var carsLink = siteSettings.Value<IPublishedContent>("carsLink")?.Url(currentCulture);
    var cartLink = siteSettings.Value<IPublishedContent>("cartLink")?.Url(currentCulture);

    var aboutUsLink = siteSettings.Value<IPublishedContent>("aboutUsLink")?.Url(currentCulture);
    var contactLink = siteSettings.Value<IPublishedContent>("contactLink")?.Url(currentCulture);
    var jobsLink = siteSettings.Value<IPublishedContent>("jobsLink")?.Url(currentCulture);
    var supportLink = siteSettings.Value<IPublishedContent>("supportLink")?.Url(currentCulture);
    var faqLink = siteSettings.Value<IPublishedContent>("faqLink")?.Url(currentCulture);
    var newsletterLink = siteSettings.Value<IPublishedContent>("newsletterLink")?.Url(currentCulture);
    var privacyPolicyLink = siteSettings.Value<IPublishedContent>("privacyPolicyLink")?.Url(currentCulture);
    var termsOfServiceLink = siteSettings.Value<IPublishedContent>("termsOfServiceLink")?.Url(currentCulture);
    var imprintLink = siteSettings.Value<IPublishedContent>("imprintLink")?.Url(currentCulture);
}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=shopping_cart" /> <!-- shopping cart icon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" /> <!-- google material symbols -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons/css/flag-icons.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@Model.Value("homepageName", fallback: Fallback.ToAncestors) - @Model.Value("pageTitle")</title>
    <script src="https://cdn.jsdelivr.net/npm/@@tailwindcss/browser@4"></script>
    <script src="/js/masterpage.js"></script>
  </head>

<body>
<header class="header">
  <nav class="main-navigation">
    <div class="brand">
      <h1 class="brand-title">Luxury & Co</h1>
    </div>
    <ul class="nav-list flex justify-center space-x-6 text-lg font-bold">
      <li><a class="nav-link" href=@Model.Root().Url()>@homeText</a></li>
      <li><a class="nav-link"href=@watchesLink>@watchesText</a></li>
      <li><a class="nav-link"href=@perfumesLink>@perfumesText</a></li>
      <li><a class="nav-link"href=@spiritsLink>@spiritsText</a></li>
      <li><a class="nav-link"href=@carsLink>@carsText</a></li>
    </ul>
    
    <div class="cart-icon flex items-center space-x-2">
      <button id="flag-toggle" onclick="onToggleLanguage(currentLang)" data-language="en" class="w-8 h-6 mr-6 rounded-md overflow-hidden hover:opacity-80 transition flex items-center justify-center">
        <span class="fi fi-gb text-xl"></span>
      </button>
      <div class="theme-icon">
        <button id="theme-toggle">
          <span class="material-symbols-outlined" id="theme-icon">light_mode</span>
        </button>
      </div>
      
      <a href="@cartLink" class="cart-button">
        <i class="material-symbols-outlined">shopping_cart</i>
      </a>

    </div>
  </nav>
</header>

<main class="homepage-body">
  @RenderBody()
</main>

<footer class="footer">
  <div class="footer-info">
    <p class="footer-slogan">@siteSettings.Value("footerSlogan", culture: currentCulture)</p>
    <nav class="footer-navigation flex justify-center w-full">
      <ul class="footer-list flex space-x-6 text-lg font-bold">
        <li><a class="footer-link" href=@aboutUsLink> @aboutUsButtonText</a></li>
        <li><a class="footer-link" href=@contactLink>@contactButtonText</a></li>
        <li><a class="footer-link" href=@jobsLink>@jobsButtonText</a></li>
        <li><a class="footer-link" href=@supportLink>@supportButtonText</a></li>
        <li><a class="footer-link" href=@faqLink>@faqButtonText</a></li>
        <li><a class="footer-link" href=@newsletterLink>@newsletterButtonText</a></li>
        <li><a class="footer-link" href=@privacyPolicyLink>@privacyPolicyButtonText</a></li>
        <li><a class="footer-link" href=@termsOfServiceLink>@termsOfServiceButtonText</a></li>
        <li><a class="footer-link" href=@imprintLink>@imprintButtonText</a></li>
      </ul>
    </nav>
  </div>
  <div class="footer-copyright">
    <p>@siteSettings.Value("footerCopyright", culture: currentCulture)</p>
  </div>
</footer>
</body>

<style>
  body {
    min-height: 100vh;
    margin: 0;                 
    background-color: white;
    color: black;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
  }

  .header {
    margin: 0;
    padding: 0;
    border-bottom: .2rem solid black;
    background: transparent;
    width: 100%;
  }
  
  .header .main-navigation {
    padding: 1rem 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
      
      body.dark-mode {
        background-color: black;
        color: white;
      }
     
      body.dark-mode  .header {
        border-bottom:  .2rem solid white;
      }
     
      .main-navigation {
        color: #006039;
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .brand-title {
        cursor: pointer;
        margin: 0 1rem;
        font-family: "Bebas Neue", sans-serif;
        font-weight: 400;
      }

      .nav-list li {
        font-family: "Bebas Neue", sans-serif;
        font-weight: 400;
        font-style: normal;
      }

      .nav-link {
        cursor: pointer;
        margin: 0 1rem;
        transition: opacity .25s;
        font-size: 1.8rem;
      }

      .nav-link:hover {
        color: #ffc107;
        opacity: 0.6;
      }

      .cart-icon i {
        cursor: pointer;
        margin: 0 1rem;
        transition: opacity .25s;
      }

      .cart-icon i:hover {
        opacity: 0.6;
        color: #ffc107;
      }
      
      #theme-toggle:hover {
        cursor: pointer;
        opacity: 0.6;
        color: #ffc107;
      }
      
      .homepage-body {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 1rem;
      }

      .footer {
        margin: 0 -1rem -1rem -1rem;
        padding: 1rem 0;
        border-top: 3px solid black;
        background-color: #313134;
        color: grey;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.02);
        text-align: center;
        overflow: hidden;
      }
      
      body.dark-mode .footer {
        border-top:  3px solid white;
        color: lightgrey;
      }
      
      .footer-info {
        padding-top: 0.1rem;
        margin-bottom: 1rem;
      }

      .footer-slogan {
        margin-bottom: 0.5rem;
      }

      .footer-list {
        justify-content: center;
      }

      .footer-link {
        transition: color .25s;
      }

      .footer-link:hover {
        color: #6b7280;
      }

      .footer-copyright {
        padding: 1rem;
        margin-bottom: 1rem;
        margin-top: -1rem;
        color: #6b7280;
        font-weight: 400;
        font-size: 0.875rem;
        display: block;
      }
    </style>
    
<script>
  const toggleThemeButton = document.getElementById('theme-toggle');
  const themeIcon = document.getElementById('theme-icon');
  
  if(localStorage.getItem('darkMode') === 'true') {
    document.body.classList.add('dark-mode');
  }

  function updateIcon() {
    if (document.body.classList.contains('dark-mode')) {
      themeIcon.textContent = 'dark_mode';
    } else {
      themeIcon.textContent = 'light_mode';
    }
  }

  updateIcon();

  toggleThemeButton.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    localStorage.setItem('darkMode', document.body.classList.contains('dark-mode')); // speichert Einstellung
    updateIcon();
  });

  const toggleFlagButton = document.getElementById('flag-toggle');
  const languageFlag = toggleFlagButton.querySelector('span');

  let currentLang = window.location.pathname.startsWith('/de') ? 'de' : 'en';
  toggleFlagButton.setAttribute('data-language', currentLang);
  languageFlag.className = currentLang === 'en' ? "fi fi-gb" : "fi fi-de";
</script>

</html>